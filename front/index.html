<!DOCTYPE html>
<html lang="ja">

<head>
    <title>入室管理システム</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script type="text/javascript">
        /*
        var flg = false;
        var num = "";
        document.addEventListener('keypress', keypress_ivent);//何かしらキーが押されたら

        function keypress_ivent(e) {
            if (!flg) {//flgがfalseならば
                start_input_num(e.key);//「％」が入力されたらflgをtrueに(読み取り開始)
            } else {//flgがtrueならば
                input_num(e.key);//numに学生番号を格納
            }
            return false;
        }

        function input_num(key) {
            if (num.length < 7) {//入力が7文字未満なら
                num = num + String(key);//1文字追加
            } else if (num.length === 7) {//入力が七文字なら
                num = num + String(key);//ラスト一文字追加
                let text_color = "#00ff00";
                let status = "INFO";
                let log = `<p class="mx-3" style="color:${text_color}">${new Date().toLocaleString({ timeZone: 'Asia/Tokyo' })} [${status}]    :${num} さん入室</p>`;
                document.getElementById('console').insertAdjacentHTML('beforeend', log);//ログ表示
                flg = false;//読み取りを終了する
                num = "";//numをリセットする
            }
        }

        function start_input_num(key) {
            if (key === '%') {
                flg = true;
            }
        }
        */
    </script>
</head>

<body class="bg-dark">
    <div id="app">
        <div class="container">
            <div class="main container-fluid">
                <div class="row bg-light text-dark py-5">
                    <div class="col-md-8 offset-md-2">
                        <h2 class="fs-1 mb-5 text-center fw-bold">入室管理システム</h2>
                        <div class="bg-dark">
                            <br>
                            <div id="console">
                                <p class="mx-3" style="color:#00ff00" v-for="num in nums" v-bind:key="num.time">
                                    {{ num.time }}[INFO] :{{num.num}} さん入室
                                </p>
                            </div>
                            <br>
                        </div>
                        <p id="input_num"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.min.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
</body>

</html>